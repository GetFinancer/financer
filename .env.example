# ===========================================
# Financer Production Configuration
# ===========================================
# Copy this file to .env and adjust the values

# ===========================================
# Deployment Mode (REQUIRED)
# ===========================================
# Controls how Financer operates:
#   selfhosted  - Single-user mode. No subdomain routing, no trial system,
#                 no Stripe billing. Use this when running on your own server.
#   cloudhost   - Multi-tenant SaaS mode. Subdomain routing, trial system,
#                 Stripe billing, and tenant registration are enabled.
# Default: selfhosted
DEPLOYMENT_MODE=selfhosted

# Project name (optional, default: financer)
COMPOSE_PROJECT_NAME=financer

# Session secret for authentication (REQUIRED - change this!)
# Generate with: openssl rand -base64 32
SESSION_SECRET=your-super-secret-random-string-here

# Default tenant name (optional, default: "default")
# In selfhosted mode, this is always the active tenant.
# In cloudhost mode, this is used for localhost/direct IP access.
DEFAULT_TENANT=default

# External ports (optional, defaults shown)
WEB_PORT=3000
API_PORT=4000

# Note: DATA_DIR is set in docker-compose.yml (/app/data inside container)
# Databases are stored on the host via bind mount: ./data/<tenant>/financer.db

# ===========================================
# Admin Dashboard (optional)
# ===========================================
# Token for the admin dashboard at /admin.
# Without this, admin endpoints return 503.
# Generate with: openssl rand -base64 32
ADMIN_TOKEN=

# ===========================================
# Cloud-Host Only (skip if DEPLOYMENT_MODE=selfhosted)
# ===========================================

# Base domain for multi-tenant subdomain routing
# Each tenant is accessible at <tenant>.yourdomain.tld
# BASE_DOMAIN=yourdomain.tld

# Auto-provision new tenants on first access
# ALLOW_AUTO_PROVISION=false

# Stripe Secret Key (from https://dashboard.stripe.com/apikeys)
# STRIPE_SECRET_KEY=

# Stripe Webhook Secret (from https://dashboard.stripe.com/webhooks)
# STRIPE_WEBHOOK_SECRET=

# Stripe Price ID for the monthly subscription
# STRIPE_PRICE_ID=

# ===========================================
# Email / SMTP (optional)
# ===========================================
# Required for admin password reset via email.
# Without SMTP, password reset is disabled.
#
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587                          # 587=STARTTLS, 465=SSL
# SMTP_USER=your@email.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@yourdomain.com      # optional, defaults to SMTP_USER
#
# APP_URL=https://yourdomain.com        # optional if BASE_DOMAIN is set
#                                       # used in password reset email links